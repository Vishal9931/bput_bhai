<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Officers Reporting</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 100%;
            padding: 15px;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .page-title {
            font-size: 1.5rem;
            margin: 15px 0;
            color: #2c3e50;
        }

        .section {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #2c3e50;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
        }

        /* Officer List Styles */
        .officer-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .officer-card {
            display: flex;
            align-items: center;
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .officer-card:hover {
            background-color: #e9ecef;
            transform: translateY(-2px);
        }

        .officer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
        }

        .officer-info {
            flex: 1;
        }

        .officer-name {
            font-weight: bold;
            margin-bottom: 4px;
        }

        .officer-project {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .officer-arrow {
            color: #6c757d;
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .filter-select {
            flex: 1;
            min-width: 120px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: white;
        }

        /* Reporting Stats */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .stat-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 5px;
        }

        /* Comparison Section */
        .comparison-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .comparison-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }

        .comparison-label {
            font-weight: 500;
        }

        .comparison-bars {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            max-width: 200px;
        }

        .bar {
            height: 20px;
            border-radius: 10px;
        }

        .bar-other {
            background-color: #3498db;
        }

        .bar-self {
            background-color: #2ecc71;
        }

        .comparison-values {
            display: flex;
            gap: 10px;
            font-size: 0.9rem;
        }

        /* Activity List */
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .activity-item {
            padding: 12px;
            background-color: #f8f9fa;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .activity-details {
            font-size: 0.8rem;
            color: #6c757d;
        }

        .activity-count {
            font-weight: bold;
            color: #2c3e50;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 15px;
        }

        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            border-bottom: 3px solid #3498db;
            color: #3498db;
            font-weight: 500;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Back Button */
        .back-button {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
            color: #3498db;
            font-weight: 500;
        }

        /* Hidden elements */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <div class="logo">MEIL Safety App</div>
                <div class="user-info">
                    <span>John Doe</span>
                    <div class="avatar">JD</div>
                </div>
            </div>
        </header>

        <!-- Officer List View -->
        <div id="officerListView">
            <h2 class="page-title">Safety Officers</h2>
            <div class="section">
                <div class="section-title">Project Safety Team</div>
                <div class="officer-list" id="officerList">
                    <!-- Officer cards will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Officer Profile View -->
        <div id="officerView" class="hidden">
            <div class="back-button" id="backButton">
                <span>←</span> Back to Officers List
            </div>
            
            <div class="section">
                <div class="officer-card">
                    <div class="officer-avatar" id="profileAvatar">JD</div>
                    <div class="officer-info">
                        <div class="officer-name" id="profileName">John Doe</div>
                        <div class="officer-project" id="profileProject">Project Alpha</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title">Filter Reports</div>
                <div class="filter-controls">
                    <select class="filter-select" id="reportType">
                        <option value="all">All Reports</option>
                        <option value="safety-observation">Safety Observation</option>
                        <option value="pep-talk">PEP Talk</option>
                        <option value="training">Training</option>
                        <option value="near-miss">Near Miss</option>
                        <option value="first-aid">First-Aid Case</option>
                    </select>
                    <select class="filter-select" id="timeFrame">
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                        <option value="quarter">This Quarter</option>
                    </select>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" data-tab="reports">Reports</div>
                <div class="tab" data-tab="comparison">Comparison</div>
            </div>

            <!-- Reports Tab -->
            <div class="tab-content active" id="reportsTab">
                <div class="section">
                    <div class="section-title">Reporting Summary</div>
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-value" id="totalReports">12</div>
                            <div class="stat-label">Total Reports</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="safetyObservations">5</div>
                            <div class="stat-label">Safety Observations</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="trainings">3</div>
                            <div class="stat-label">Trainings</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="incidents">1</div>
                            <div class="stat-label">Incidents</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">Recent Activities</div>
                    <div class="activity-list" id="activityList">
                        <!-- Activity items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Comparison Tab -->
            <div class="tab-content" id="comparisonTab">
                <div class="section">
                    <div class="section-title">Comparison with Your Reports</div>
                    <div class="comparison-container" id="comparisonContainer">
                        <!-- Comparison rows will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for demonstration
        const officers = [
            { id: 1, name: "John Doe", project: "Project Alpha", avatar: "JD" },
            { id: 2, name: "Sarah Smith", project: "Project Beta", avatar: "SS" },
            { id: 3, name: "Michael Brown", project: "Project Gamma", avatar: "MB" },
            { id: 4, name: "Emily Johnson", project: "Project Alpha", avatar: "EJ" },
            { id: 5, name: "David Wilson", project: "Project Delta", avatar: "DW" }
        ];

        // Sample reporting data
        const reportingData = {
            1: { // John Doe's data
                totalReports: 12,
                safetyObservations: 5,
                trainings: 3,
                incidents: 1,
                activities: [
                    { type: "Safety Observation", title: "Unsafe scaffolding", date: "2023-05-15", count: 1 },
                    { type: "PEP Talk", title: "Excavation safety", date: "2023-05-14", count: 1 },
                    { type: "Training", title: "Daily safety talk", date: "2023-05-14", count: 1 },
                    { type: "Near Miss", title: "Falling object", date: "2023-05-13", count: 1 }
                ]
            },
            2: { // Sarah Smith's data
                totalReports: 8,
                safetyObservations: 3,
                trainings: 4,
                incidents: 0,
                activities: [
                    { type: "Safety Observation", title: "Improper PPE", date: "2023-05-15", count: 1 },
                    { type: "Training", title: "Induction training", date: "2023-05-14", count: 1 },
                    { type: "First-Aid", title: "Minor cut treatment", date: "2023-05-13", count: 1 },
                    { type: "PEP Talk", title: "Electrical safety", date: "2023-05-12", count: 1 }
                ]
            },
            3: { // Michael Brown's data
                totalReports: 15,
                safetyObservations: 7,
                trainings: 5,
                incidents: 2,
                activities: [
                    { type: "Safety Observation", title: "Unsafe excavation", date: "2023-05-15", count: 1 },
                    { type: "Near Miss", title: "Vehicle incident", date: "2023-05-14", count: 1 },
                    { type: "Training", title: "Special technical training", date: "2023-05-13", count: 1 },
                    { type: "Safety Advisory", title: "Warning issued", date: "2023-05-12", count: 1 }
                ]
            },
            4: { // Emily Johnson's data
                totalReports: 10,
                safetyObservations: 4,
                trainings: 5,
                incidents: 0,
                activities: [
                    { type: "PEP Talk", title: "Confined space entry", date: "2023-05-15", count: 1 },
                    { type: "Training", title: "Daily safety talk", date: "2023-05-14", count: 1 },
                    { type: "Safety Observation", title: "Fire safety violation", date: "2023-05-13", count: 1 },
                    { type: "Good Practice", title: "Innovative safety measure", date: "2023-05-12", count: 1 }
                ]
            },
            5: { // David Wilson's data
                totalReports: 6,
                safetyObservations: 2,
                trainings: 3,
                incidents: 1,
                activities: [
                    { type: "Safety Observation", title: "Unsafe ladder use", date: "2023-05-15", count: 1 },
                    { type: "Training", title: "Induction training", date: "2023-05-14", count: 1 },
                    { type: "First-Aid", title: "Heat exhaustion", date: "2023-05-13", count: 1 },
                    { type: "PEP Talk", title: "Working at height", date: "2023-05-12", count: 1 }
                ]
            }
        };

        // Current user data (assuming John Doe is the current user)
        const currentUser = {
            id: 1,
            name: "John Doe",
            project: "Project Alpha",
            avatar: "JD"
        };

        // DOM elements
        const officerListView = document.getElementById('officerListView');
        const officerView = document.getElementById('officerView');
        const officerList = document.getElementById('officerList');
        const backButton = document.getElementById('backButton');
        const profileAvatar = document.getElementById('profileAvatar');
        const profileName = document.getElementById('profileName');
        const profileProject = document.getElementById('profileProject');
        const totalReports = document.getElementById('totalReports');
        const safetyObservations = document.getElementById('safetyObservations');
        const trainings = document.getElementById('trainings');
        const incidents = document.getElementById('incidents');
        const activityList = document.getElementById('activityList');
        const comparisonContainer = document.getElementById('comparisonContainer');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const reportTypeFilter = document.getElementById('reportType');
        const timeFrameFilter = document.getElementById('timeFrame');

        // Initialize the app
        function initApp() {
            renderOfficerList();
            setupEventListeners();
        }

        // Render the list of safety officers
        function renderOfficerList() {
            officerList.innerHTML = '';
            
            officers.forEach(officer => {
                // Skip the current user from the list
                if (officer.id === currentUser.id) return;
                
                const officerCard = document.createElement('div');
                officerCard.className = 'officer-card';
                officerCard.dataset.id = officer.id;
                
                officerCard.innerHTML = `
                    <div class="officer-avatar">${officer.avatar}</div>
                    <div class="officer-info">
                        <div class="officer-name">${officer.name}</div>
                        <div class="officer-project">${officer.project}</div>
                    </div>
                    <div class="officer-arrow">→</div>
                `;
                
                officerList.appendChild(officerCard);
            });
        }

        // Show officer profile
        function showOfficerProfile(officerId) {
            const officer = officers.find(o => o.id === officerId);
            if (!officer) return;
            
            // Update profile header
            profileAvatar.textContent = officer.avatar;
            profileName.textContent = officer.name;
            profileProject.textContent = officer.project;
            
            // Update stats
            const data = reportingData[officerId];
            totalReports.textContent = data.totalReports;
            safetyObservations.textContent = data.safetyObservations;
            trainings.textContent = data.trainings;
            incidents.textContent = data.incidents;
            
            // Update activities
            renderActivities(data.activities);
            
            // Update comparison
            renderComparison(officerId);
            
            // Switch views
            officerListView.classList.add('hidden');
            officerView.classList.remove('hidden');
        }

        // Render activities list
        function renderActivities(activities) {
            activityList.innerHTML = '';
            
            activities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                
                activityItem.innerHTML = `
                    <div class="activity-info">
                        <div class="activity-title">${activity.title}</div>
                        <div class="activity-details">${activity.type} • ${activity.date}</div>
                    </div>
                    <div class="activity-count">${activity.count}</div>
                `;
                
                activityList.appendChild(activityItem);
            });
        }

        // Render comparison with current user
        function renderComparison(officerId) {
            comparisonContainer.innerHTML = '';
            
            const otherData = reportingData[officerId];
            const selfData = reportingData[currentUser.id];
            
            // Define metrics to compare
            const metrics = [
                { label: 'Total Reports', self: selfData.totalReports, other: otherData.totalReports },
                { label: 'Safety Observations', self: selfData.safetyObservations, other: otherData.safetyObservations },
                { label: 'Trainings', self: selfData.trainings, other: otherData.trainings },
                { label: 'Incidents', self: selfData.incidents, other: otherData.incidents }
            ];
            
            // Find max values for scaling
            const maxValues = {};
            metrics.forEach(metric => {
                maxValues[metric.label] = Math.max(metric.self, metric.other, 1);
            });
            
            // Create comparison rows
            metrics.forEach(metric => {
                const row = document.createElement('div');
                row.className = 'comparison-row';
                
                const selfWidth = (metric.self / maxValues[metric.label]) * 100;
                const otherWidth = (metric.other / maxValues[metric.label]) * 100;
                
                row.innerHTML = `
                    <div class="comparison-label">${metric.label}</div>
                    <div class="comparison-bars">
                        <div class="bar bar-other" style="width: ${otherWidth}%"></div>
                        <div class="bar bar-self" style="width: ${selfWidth}%"></div>
                    </div>
                    <div class="comparison-values">
                        <span>${metric.other}</span>
                        <span>${metric.self}</span>
                    </div>
                `;
                
                comparisonContainer.appendChild(row);
            });
            
            // Add legend
            const legend = document.createElement('div');
            legend.className = 'comparison-row';
            legend.style.backgroundColor = 'transparent';
            legend.style.justifyContent = 'center';
            legend.style.gap = '20px';
            legend.innerHTML = `
                <div style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 15px; height: 15px; background-color: #3498db; border-radius: 3px;"></div>
                    <span>${officers.find(o => o.id === officerId).name}</span>
                </div>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 15px; height: 15px; background-color: #2ecc71; border-radius: 3px;"></div>
                    <span>You</span>
                </div>
            `;
            
            comparisonContainer.appendChild(legend);
        }

        // Set up event listeners
        function setupEventListeners() {
            // Officer card clicks
            officerList.addEventListener('click', (e) => {
                const officerCard = e.target.closest('.officer-card');
                if (officerCard) {
                    const officerId = parseInt(officerCard.dataset.id);
                    showOfficerProfile(officerId);
                }
            });
            
            // Back button
            backButton.addEventListener('click', () => {
                officerView.classList.add('hidden');
                officerListView.classList.remove('hidden');
            });
            
            // Tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Show corresponding content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `${tabId}Tab`) {
                            content.classList.add('active');
                        }
                    });
                });
            });
            
            // Filter changes
            reportTypeFilter.addEventListener('change', applyFilters);
            timeFrameFilter.addEventListener('change', applyFilters);
        }

        // Apply filters (placeholder function)
        function applyFilters() {
            // In a real app, this would filter the data based on selected options
            console.log('Filters applied:', {
                reportType: reportTypeFilter.value,
                timeFrame: timeFrameFilter.value
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>