<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - TopManagement Dashboard</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Ftopmanagem2294back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-background min-h-screen">
    <!-- Navigation Sidebar -->
    <div class="flex">
        <nav class="w-64 bg-surface shadow-lg min-h-screen fixed left-0 top-0 z-50">
            <div class="p-6">
                <!-- Logo -->
                <div class="flex items-center gap-3 mb-8">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-text-primary">TopManagement</h1>
                        <p class="text-sm text-text-secondary">Dashboard</p>
                    </div>
                </div>

                <!-- Navigation Links -->
                <ul class="space-y-2">
                    <li>
                        <a href="dashboard.html" class="flex items-center gap-3 px-4 py-3 text-text-secondary hover:bg-secondary-50 hover:text-text-primary rounded-lg transition-colors">
                            <i class="fas fa-tachometer-alt w-5"></i>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="projects.html" class="flex items-center gap-3 px-4 py-3 text-text-secondary hover:bg-secondary-50 hover:text-text-primary rounded-lg transition-colors">
                            <i class="fas fa-project-diagram w-5"></i>
                            Projects
                        </a>
                    </li>
                    <li>
                        <a href="employees.html" class="flex items-center gap-3 px-4 py-3 text-text-secondary hover:bg-secondary-50 hover:text-text-primary rounded-lg transition-colors">
                            <i class="fas fa-users w-5"></i>
                            Employees
                        </a>
                    </li>
                    <li>
                        <a href="reports.html" class="flex items-center gap-3 px-4 py-3 text-text-secondary hover:bg-secondary-50 hover:text-text-primary rounded-lg transition-colors">
                            <i class="fas fa-file-alt w-5"></i>
                            Reports
                        </a>
                    </li>
                    <li>
                        <a href="settings.html" class="flex items-center gap-3 px-4 py-3 bg-primary-50 text-primary rounded-lg font-medium">
                            <i class="fas fa-cog w-5"></i>
                            Settings
                        </a>
                    </li>
                </ul>
            </div>

            <!-- User Profile -->
            <div class="absolute bottom-0 left-0 right-0 p-6 border-t border-secondary-200">
                <div class="flex items-center gap-3">
                    <img src="https://images.unsplash.com/photo-1714974528737-3e6c7e4d11af" 
                         alt="Executive profile photo" 
                         class="w-10 h-10 rounded-full object-cover"
                         onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                    <div class="flex-1">
                        <p class="text-sm font-medium text-text-primary">John Executive</p>
                        <p class="text-xs text-text-secondary">CEO</p>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 ml-64 p-8">
            <!-- Header -->
            <header class="mb-8">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-text-primary mb-2">Settings</h1>
                        <p class="text-text-secondary">System configuration and user profile management</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="text-right">
                            <p class="text-sm text-text-secondary">Last Updated</p>
                            <p class="text-sm font-medium text-text-primary">Nov 02, 2025 - 03:43 AM</p>
                        </div>
                        <div class="flex items-center gap-2 px-3 py-2 bg-success-50 text-success-600 rounded-lg">
                            <i class="fas fa-check-circle text-sm"></i>
                            <span class="text-sm font-medium">System Active</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Settings Tabs -->
            <section class="mb-8">
                <div class="border-b border-secondary-200">
                    <nav class="flex space-x-8">
                        <button id="profileTab" class="tab-button active py-4 px-1 border-b-2 border-primary text-primary font-medium text-sm">
                            <i class="fas fa-user mr-2"></i>
                            User Profile
                        </button>
                        <button id="systemTab" class="tab-button py-4 px-1 border-b-2 border-transparent text-text-secondary hover:text-text-primary font-medium text-sm">
                            <i class="fas fa-desktop mr-2"></i>
                            System Preferences
                        </button>
                        <button id="securityTab" class="tab-button py-4 px-1 border-b-2 border-transparent text-text-secondary hover:text-text-primary font-medium text-sm">
                            <i class="fas fa-shield-alt mr-2"></i>
                            Security Settings
                        </button>
                    </nav>
                </div>
            </section>

            <!-- Tab Content -->
            <section class="space-y-8">
                <!-- User Profile Tab -->
                <div id="profileContent" class="tab-content">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Profile Form -->
                        <div class="lg:col-span-2">
                            <div class="card">
                                <h3 class="text-lg font-semibold text-text-primary mb-6">Profile Information</h3>
                                <form id="profileForm" class="space-y-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <label for="firstName" class="block text-sm font-medium text-text-secondary mb-2">First Name</label>
                                            <input type="text" id="firstName" name="firstName" value="John" class="form-input w-full" required>
                                        </div>
                                        <div>
                                            <label for="lastName" class="block text-sm font-medium text-text-secondary mb-2">Last Name</label>
                                            <input type="text" id="lastName" name="lastName" value="Executive" class="form-input w-full" required>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label for="email" class="block text-sm font-medium text-text-secondary mb-2">Email Address</label>
                                        <input type="email" id="email" name="email" value="john.executive@topmanagement.com" class="form-input w-full" required>
                                    </div>
                                    
                                    <div>
                                        <label for="role" class="block text-sm font-medium text-text-secondary mb-2">Role Designation</label>
                                        <select id="role" name="role" class="form-input w-full">
                                            <option value="CEO" selected>Chief Executive Officer</option>
                                            <option value="COO">Chief Operating Officer</option>
                                            <option value="CTO">Chief Technology Officer</option>
                                            <option value="CFO">Chief Financial Officer</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label for="phone" class="block text-sm font-medium text-text-secondary mb-2">Contact Number</label>
                                        <input type="tel" id="phone" name="phone" value="+1 (555) 123-4567" class="form-input w-full">
                                    </div>
                                    
                                    <div>
                                        <label for="department" class="block text-sm font-medium text-text-secondary mb-2">Department</label>
                                        <select id="department" name="department" class="form-input w-full">
                                            <option value="executive" selected>Executive Management</option>
                                            <option value="operations">Operations</option>
                                            <option value="safety">Safety & Compliance</option>
                                            <option value="finance">Finance</option>
                                        </select>
                                    </div>
                                    
                                    <div class="flex gap-4 pt-4">
                                        <button type="submit" class="btn-primary">
                                            <i class="fas fa-save mr-2"></i>
                                            Save Changes
                                        </button>
                                        <button type="button" class="btn-secondary" onclick="resetProfileForm()">
                                            <i class="fas fa-undo mr-2"></i>
                                            Reset
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- Profile Picture -->
                        <div class="lg:col-span-1">
                            <div class="card">
                                <h3 class="text-lg font-semibold text-text-primary mb-6">Profile Picture</h3>
                                <div class="text-center">
                                    <div class="mb-4">
                                        <img src="https://images.unsplash.com/photo-1538155421123-6a79813f5deb" 
                                             alt="Current profile picture of executive" 
                                             class="w-32 h-32 rounded-full object-cover mx-auto border-4 border-secondary-200"
                                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                                    </div>
                                    <button class="btn-secondary text-sm">
                                        <i class="fas fa-camera mr-2"></i>
                                        Change Picture
                                    </button>
                                    <p class="text-xs text-text-secondary mt-2">JPG, PNG or GIF (max. 2MB)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Preferences Tab -->
                <div id="systemContent" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Dashboard Preferences -->
                        <div class="card">
                            <h3 class="text-lg font-semibold text-text-primary mb-6">Dashboard Preferences</h3>
                            <div class="space-y-6">
                                <div>
                                    <label for="defaultView" class="block text-sm font-medium text-text-secondary mb-2">Default Dashboard View</label>
                                    <select id="defaultView" class="form-input w-full">
                                        <option value="overview" selected>Overview Summary</option>
                                        <option value="projects">Projects Focus</option>
                                        <option value="safety">Safety Metrics</option>
                                        <option value="employees">Employee Management</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label for="refreshInterval" class="block text-sm font-medium text-text-secondary mb-2">Data Refresh Interval</label>
                                    <select id="refreshInterval" class="form-input w-full">
                                        <option value="30">30 seconds</option>
                                        <option value="60" selected>1 minute</option>
                                        <option value="300">5 minutes</option>
                                        <option value="600">10 minutes</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label for="chartType" class="block text-sm font-medium text-text-secondary mb-2">Preferred Chart Type</label>
                                    <select id="chartType" class="form-input w-full">
                                        <option value="line" selected>Line Charts</option>
                                        <option value="bar">Bar Charts</option>
                                        <option value="mixed">Mixed Charts</option>
                                    </select>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div>
                                        <label class="text-sm font-medium text-text-secondary">Show Grid Lines</label>
                                        <p class="text-xs text-text-secondary">Display grid lines on charts</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-secondary-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Report Preferences -->
                        <div class="card">
                            <h3 class="text-lg font-semibold text-text-primary mb-6">Report Preferences</h3>
                            <div class="space-y-6">
                                <div>
                                    <label for="reportFormat" class="block text-sm font-medium text-text-secondary mb-2">Default Report Format</label>
                                    <select id="reportFormat" class="form-input w-full">
                                        <option value="html" selected>HTML Table</option>
                                        <option value="pdf">PDF Document</option>
                                        <option value="excel">Excel Spreadsheet</option>
                                        <option value="csv">CSV File</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label for="dateFormat" class="block text-sm font-medium text-text-secondary mb-2">Date Format</label>
                                    <select id="dateFormat" class="form-input w-full">
                                        <option value="mm/dd/yyyy" selected>MM/DD/YYYY</option>
                                        <option value="dd/mm/yyyy">DD/MM/YYYY</option>
                                        <option value="yyyy-mm-dd">YYYY-MM-DD</option>
                                    </select>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div>
                                        <label class="text-sm font-medium text-text-secondary">Auto-generate Reports</label>
                                        <p class="text-xs text-text-secondary">Generate weekly summary reports</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-secondary-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div>
                                        <label class="text-sm font-medium text-text-secondary">Email Notifications</label>
                                        <p class="text-xs text-text-secondary">Receive report notifications via email</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer">
                                        <div class="w-11 h-6 bg-secondary-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex gap-4 pt-6">
                        <button class="btn-primary" onclick="saveSystemPreferences()">
                            <i class="fas fa-save mr-2"></i>
                            Save Preferences
                        </button>
                        <button class="btn-secondary" onclick="resetSystemPreferences()">
                            <i class="fas fa-undo mr-2"></i>
                            Reset to Default
                        </button>
                    </div>
                </div>

                <!-- Security Settings Tab -->
                <div id="securityContent" class="tab-content hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Password Change -->
                        <div class="card">
                            <h3 class="text-lg font-semibold text-text-primary mb-6">Change Password</h3>
                            <form id="passwordForm" class="space-y-6">
                                <div>
                                    <label for="currentPassword" class="block text-sm font-medium text-text-secondary mb-2">Current Password</label>
                                    <input type="password" id="currentPassword" name="currentPassword" class="form-input w-full" required>
                                </div>
                                
                                <div>
                                    <label for="newPassword" class="block text-sm font-medium text-text-secondary mb-2">New Password</label>
                                    <input type="password" id="newPassword" name="newPassword" class="form-input w-full" required>
                                    <p class="text-xs text-text-secondary mt-1">Must be at least 8 characters with uppercase, lowercase, and numbers</p>
                                </div>
                                
                                <div>
                                    <label for="confirmPassword" class="block text-sm font-medium text-text-secondary mb-2">Confirm New Password</label>
                                    <input type="password" id="confirmPassword" name="confirmPassword" class="form-input w-full" required>
                                </div>
                                
                                <button type="submit" class="btn-primary">
                                    <i class="fas fa-key mr-2"></i>
                                    Update Password
                                </button>
                            </form>
                        </div>

                        <!-- Session Settings -->
                        <div class="card">
                            <h3 class="text-lg font-semibold text-text-primary mb-6">Session Settings</h3>
                            <div class="space-y-6">
                                <div>
                                    <label for="sessionTimeout" class="block text-sm font-medium text-text-secondary mb-2">Session Timeout</label>
                                    <select id="sessionTimeout" class="form-input w-full">
                                        <option value="15">15 minutes</option>
                                        <option value="30" selected>30 minutes</option>
                                        <option value="60">1 hour</option>
                                        <option value="120">2 hours</option>
                                        <option value="480">8 hours</option>
                                    </select>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div>
                                        <label class="text-sm font-medium text-text-secondary">Two-Factor Authentication</label>
                                        <p class="text-xs text-text-secondary">Enable 2FA for enhanced security</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer">
                                        <div class="w-11 h-6 bg-secondary-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div>
                                        <label class="text-sm font-medium text-text-secondary">Login Notifications</label>
                                        <p class="text-xs text-text-secondary">Get notified of new login attempts</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-secondary-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Access Log -->
                    <div class="card mt-8">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-text-primary">Recent Access Log</h3>
                            <button class="text-primary hover:text-primary-700 text-sm font-medium">
                                <i class="fas fa-download mr-1"></i>
                                Export Log
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full data-table">
                                <thead>
                                    <tr>
                                        <th>Date & Time</th>
                                        <th>IP Address</th>
                                        <th>Device</th>
                                        <th>Location</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Nov 02, 2025 - 03:43 AM</td>
                                        <td>192.168.1.100</td>
                                        <td>Chrome on Windows</td>
                                        <td>New York, NY</td>
                                        <td><span class="status-indicator status-success">Active</span></td>
                                    </tr>
                                    <tr>
                                        <td>Nov 01, 2025 - 11:22 PM</td>
                                        <td>192.168.1.100</td>
                                        <td>Chrome on Windows</td>
                                        <td>New York, NY</td>
                                        <td><span class="status-indicator status-success">Success</span></td>
                                    </tr>
                                    <tr>
                                        <td>Nov 01, 2025 - 09:15 AM</td>
                                        <td>10.0.0.50</td>
                                        <td>Safari on iPhone</td>
                                        <td>New York, NY</td>
                                        <td><span class="status-indicator status-success">Success</span></td>
                                    </tr>
                                    <tr>
                                        <td>Oct 31, 2025 - 06:30 PM</td>
                                        <td>203.0.113.45</td>
                                        <td>Firefox on Linux</td>
                                        <td>Unknown</td>
                                        <td><span class="status-indicator status-error">Blocked</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Logout Section -->
            <section class="mt-12 pt-8 border-t border-secondary-200">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold text-text-primary mb-2">Session Management</h3>
                        <p class="text-text-secondary">Securely end your current session</p>
                    </div>
                    <button id="logoutBtn" class="px-6 py-3 bg-error-600 text-white rounded-lg font-medium hover:bg-error-700 transition-colors">
                        <i class="fas fa-sign-out-alt mr-2"></i>
                        Logout
                    </button>
                </div>
            </section>
        </main>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal-overlay">
        <div class="modal-content p-6 max-w-md mx-4">
            <div class="text-center">
                <div class="w-16 h-16 bg-warning-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-exclamation-triangle text-warning-600 text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-text-primary mb-2">Confirm Logout</h3>
                <p class="text-text-secondary mb-6">Are you sure you want to logout? Any unsaved changes will be lost.</p>
                <div class="flex gap-3 justify-center">
                    <button id="cancelLogout" class="btn-secondary">Cancel</button>
                    <button id="confirmLogout" class="px-4 py-2 bg-error-600 text-white rounded-lg font-medium hover:bg-error-700 transition-colors">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="successToast" class="fixed top-4 right-4 bg-success-600 text-white px-6 py-3 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 z-50">
        <div class="flex items-center gap-2">
            <i class="fas fa-check-circle"></i>
            <span id="toastMessage">Settings saved successfully!</span>
        </div>
    </div>

    <script>
        // Tab functionality
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all tabs
                tabButtons.forEach(btn => {
                    btn.classList.remove('border-primary', 'text-primary');
                    btn.classList.add('border-transparent', 'text-text-secondary');
                });
                
                // Add active class to clicked tab
                button.classList.remove('border-transparent', 'text-text-secondary');
                button.classList.add('border-primary', 'text-primary');
                
                // Hide all tab contents
                tabContents.forEach(content => content.classList.add('hidden'));
                
                // Show corresponding tab content
                const tabId = button.id.replace('Tab', 'Content');
                document.getElementById(tabId).classList.remove('hidden');
            });
        });

        // Profile form submission
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            showToast('Profile updated successfully!');
        });

        // Password form submission
        document.getElementById('passwordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (newPassword !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            if (newPassword.length < 8) {
                alert('Password must be at least 8 characters long!');
                return;
            }
            
            showToast('Password updated successfully!');
            this.reset();
        });

        // Reset profile form
        function resetProfileForm() {
            document.getElementById('profileForm').reset();
            document.getElementById('firstName').value = 'John';
            document.getElementById('lastName').value = 'Executive';
            document.getElementById('email').value = 'john.executive@topmanagement.com';
            document.getElementById('role').value = 'CEO';
            document.getElementById('phone').value = '+1 (555) 123-4567';
            document.getElementById('department').value = 'executive';
        }

        // Save system preferences
        function saveSystemPreferences() {
            showToast('System preferences saved successfully!');
        }

        // Reset system preferences
        function resetSystemPreferences() {
            document.getElementById('defaultView').value = 'overview';
            document.getElementById('refreshInterval').value = '60';
            document.getElementById('chartType').value = 'line';
            document.getElementById('reportFormat').value = 'html';
            document.getElementById('dateFormat').value = 'mm/dd/yyyy';
            showToast('System preferences reset to default!');
        }

        // Logout functionality
        const logoutBtn = document.getElementById('logoutBtn');
        const confirmModal = document.getElementById('confirmModal');
        const cancelLogout = document.getElementById('cancelLogout');
        const confirmLogout = document.getElementById('confirmLogout');

        logoutBtn.addEventListener('click', () => {
            confirmModal.classList.add('open');
        });

        cancelLogout.addEventListener('click', () => {
            confirmModal.classList.remove('open');
        });

        confirmLogout.addEventListener('click', () => {
            // Simulate logout process
            showToast('Logging out...');
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 1500);
        });

        // Close modal when clicking outside
        confirmModal.addEventListener('click', (e) => {
            if (e.target === confirmModal) {
                confirmModal.classList.remove('open');
            }
        });

        // Toast notification function
        function showToast(message) {
            const toast = document.getElementById('successToast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.remove('translate-x-full');
            
            setTimeout(() => {
                toast.classList.add('translate-x-full');
            }, 3000);
        }

        // Auto-update timestamp
        setInterval(() => {
            const timestamp = document.querySelector('header p:last-child');
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'short', 
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                hour12: true
            };
            timestamp.textContent = now.toLocaleDateString('en-US', options);
        }, 60000);

        // Form validation
        document.querySelectorAll('input[type="email"]').forEach(input => {
            input.addEventListener('blur', function() {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (this.value && !emailRegex.test(this.value)) {
                    this.style.borderColor = 'var(--color-error)';
                } else {
                    this.style.borderColor = 'var(--color-secondary-200)';
                }
            });
        });

        // Toggle switches functionality
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.closest('.card')) {
                    showToast('Setting updated successfully!');
                }
            });
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>